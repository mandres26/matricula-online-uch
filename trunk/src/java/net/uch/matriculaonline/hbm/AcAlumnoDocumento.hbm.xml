<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
  <class catalog="db_sis_academica" name="net.uch.matriculaonline.mapping.AcAlumnoDocumento" table="ac_alumno_documento">
    <id name="aludocId" type="java.lang.Integer">
      <column name="aludoc_id"/>
      <generator class="assigned"/>
    </id>
    <many-to-one class="net.uch.matriculaonline.mapping.AcAlumno" fetch="select" name="acAlumno">
      <column name="alu_id"/>
    </many-to-one>
    <property name="aludocDocumento" type="java.lang.String">
      <column length="6" name="aludoc_documento"/>
    </property>
    <property name="aludocActivo" type="java.lang.String">
      <column length="1" name="aludoc_activo"/>
    </property>
  </class>
  <!--    <sql-query name="getDeudaDocumentos" callable="true">
        <return-join alias="deuda_doc" column="1" mode="read"
        class="net.uch.matriculaonline.hibernateSpringDao.HSAlumnoDocumentoDAOImpl" />
        {call fun_deuda_documentos(:id_alu)}
    </sql-query>-->
  <sql-query name="query_deuda_documento">
        <return-scalar column="desc_documento" type="string"/>
        SELECT c.cat_descripcion_elemento as desc_documento
        FROM tb_catalogo c 
        WHERE c.cat_codigo_grupo='031'
        and c.cat_codigo_elemento!='000'
        and concat(c.cat_codigo_grupo,c.cat_codigo_elemento)NOT IN(
        SELECT ad.aludoc_documento FROM ac_alumno_documento ad 
        WHERE ad.alu_id = :alu_id
        )
    </sql-query>
</hibernate-mapping>
